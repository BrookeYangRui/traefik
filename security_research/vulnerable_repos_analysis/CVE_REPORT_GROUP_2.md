# CVE æŠ¥å‘Š - ç¬¬äºŒç»„é¡¹ç›®åˆ†æ

## åˆ†ææ—¥æœŸ
2025-12-28

## åˆ†æèŒƒå›´
é¡¹ç›® 6-10ï¼ˆæ²¡æœ‰ç™½åå•é…ç½®ï¼‰

---

## é¡¹ç›® 6: cloudnativeapp/charts

### é…ç½®åˆ†æ

**æ–‡ä»¶**: `curated/traefik/templates/configmap.yaml`

è¿™æ˜¯ Helm Chart æ¨¡æ¿ï¼Œä½¿ç”¨äº†æ¨¡æ¿å˜é‡ï¼š
```yaml
{{- if .Values.forwardedHeaders.enabled }}
  [entryPoints.http.forwardedHeaders]
  {{ template "traefik.forwardedHeadersTrustedIPs" . }}
{{- end }}
```

**æ¨¡æ¿å®ç°**:
```go
{{- define "traefik.forwardedHeadersTrustedIPs" -}}
  trustedIPs = [
    {{- range $idx, $ips := .Values.forwardedHeaders.trustedIPs }}
      {{- if $idx }}, {{ end }}
      {{- $ips | quote }}
    {{- end -}}
  ]
{{- end -}}
```

**é»˜è®¤å€¼** (`values.yaml`):
```yaml
forwardedHeaders:
  enabled: false
  trustedIPs: []  # ç©ºæ•°ç»„
```

### å¨èƒæ¨¡å‹åˆ†æ

âš ï¸ **æ¡ä»¶æ¼æ´**:
- å¦‚æœç”¨æˆ·å¯ç”¨äº† `forwardedHeaders.enabled=true` ä½†**æ²¡æœ‰è®¾ç½® trustedIPs**ï¼ˆæˆ–è®¾ç½®ä¸ºç©ºæ•°ç»„ï¼‰
- æ¨¡æ¿ä¼šç”Ÿæˆ `trustedIPs = []`ï¼Œç­‰åŒäºæ²¡æœ‰ç™½åå•
- **å­˜åœ¨æ¼æ´**

### å®é™…å½±å“è¯„ä¼°

**å½±å“ç­‰çº§**: ğŸ”´ **é«˜ï¼ˆå¦‚æœç”¨æˆ·é…ç½®ä¸å½“ï¼‰**

**åŸå› **:
1. **Helm Chart** - å¯èƒ½è¢«å¹¿æ³›ä½¿ç”¨ï¼ˆ417 starsï¼‰
2. **é»˜è®¤ä¸å®‰å…¨** - å¦‚æœç”¨æˆ·å¯ç”¨ä½†æ²¡æœ‰é…ç½® trustedIPsï¼Œå°±å­˜åœ¨æ¼æ´
3. **å®é™…å½±å“** - å–å†³äºç”¨æˆ·é…ç½®

### ç»“è®º

âš ï¸ **å­˜åœ¨æ¡ä»¶æ¼æ´ã€‚å¦‚æœç”¨æˆ·å¯ç”¨ forwardedHeaders ä½†æ²¡æœ‰é…ç½® trustedIPsï¼Œåˆ™å­˜åœ¨æ¼æ´ã€‚å»ºè®®ä¿®å¤é»˜è®¤é…ç½®ï¼Œä½†å¯èƒ½ä¸éœ€è¦ CVEï¼ˆå–å†³äºå®é™…ä½¿ç”¨æƒ…å†µï¼‰ã€‚**

---

## é¡¹ç›® 7: trajano/trajano-swarm

### æ¼æ´ç¡®è®¤

âœ… **ç¡®è®¤å­˜åœ¨çœŸå®æ¼æ´**

### é…ç½®è¯¦æƒ…

**æ–‡ä»¶**: `intranet.yml`

```yaml
command:
  - "--entryPoints.http.forwardedHeaders.insecure"
```

### å¨èƒæ¨¡å‹

åŒç¬¬ä¸€ç»„é¡¹ç›®1ã€‚

### å®é™…å½±å“è¯„ä¼°

**å½±å“ç­‰çº§**: ğŸ”´ **é«˜**

### CVE æŠ¥å‘Š

**çŠ¶æ€**: âœ… **éœ€è¦ç”Ÿæˆ CVE æŠ¥å‘Š**

**æ¼æ´ç±»å‹**: HTTP Header Injection (CRLF Injection)

**CVSS è¯„åˆ†**: 7.5 (High)

---

## é¡¹ç›® 8: Lepkem/traefik-plugin-response-code-override

### æ¼æ´ç¡®è®¤

âš ï¸ **å­˜åœ¨æ¼æ´ï¼Œä½†é¡¹ç›®è¾ƒå°**

### é…ç½®è¯¦æƒ…

**æ–‡ä»¶**: `config.yaml`

```yaml
entryPoints:
  http:
    address: ":8000"
    forwardedHeaders:
      insecure: true
```

### å®é™…å½±å“è¯„ä¼°

**å½±å“ç­‰çº§**: âš ï¸ **ä¸­ç­‰**

**åŸå› **:
1. **æ’ä»¶é…ç½®** - 9 starsï¼Œå¯èƒ½æ˜¯å¼€å‘/æµ‹è¯•é…ç½®
2. **æ²¡æœ‰ç™½åå•** - ä»»ä½•æ¥æºéƒ½å¯ä»¥æ³¨å…¥

### ç»“è®º

âš ï¸ **å­˜åœ¨æ¼æ´ï¼Œä½†é¡¹ç›®è¾ƒå°ï¼Œå½±å“æœ‰é™ã€‚å»ºè®®ä¿®å¤ä½†å¯èƒ½ä¸éœ€è¦ CVEã€‚**

---

## é¡¹ç›® 9: traefik/traefik

### é…ç½®åˆ†æ

**æ–‡ä»¶**: `integration/fixtures/x_forwarded_for_fastproxy.toml`

è¿™æ˜¯ Traefik å®˜æ–¹é¡¹ç›®çš„**é›†æˆæµ‹è¯•æ–‡ä»¶**ã€‚

### å¨èƒæ¨¡å‹åˆ†æ

â„¹ï¸ **å®˜æ–¹æµ‹è¯•æ–‡ä»¶**:
- ç”¨äºæµ‹è¯• fast proxy çš„ X-Forwarded-For å¤„ç†
- **ä¸æ˜¯å®é™…éƒ¨ç½²é…ç½®**

### ç»“è®º

âŒ **æµ‹è¯•æ–‡ä»¶ï¼Œä¸éœ€è¦ CVEã€‚ä½†å»ºè®®æ·»åŠ æ³¨é‡Šè¯´æ˜è¿™æ˜¯ä¸å®‰å…¨çš„é…ç½®ã€‚**

---

## é¡¹ç›® 10: vnghia/automation-lyoko-docker

### æ¼æ´ç¡®è®¤

âš ï¸ **å­˜åœ¨æ¼æ´ï¼Œä½†é¡¹ç›®å¾ˆå°**

### é…ç½®è¯¦æƒ…

**æ–‡ä»¶**: `traefik/static.toml`

```toml
[entryPoints.https.forwardedHeaders]
insecure = true
```

### å®é™…å½±å“è¯„ä¼°

**å½±å“ç­‰çº§**: âš ï¸ **ä¸­ç­‰**

**åŸå› **:
1. **ä¸ªäººé¡¹ç›®** - 1 starï¼Œå¯èƒ½æ˜¯ä¸ªäººä½¿ç”¨
2. **æ²¡æœ‰ç™½åå•** - ä»»ä½•æ¥æºéƒ½å¯ä»¥æ³¨å…¥

### ç»“è®º

âš ï¸ **å­˜åœ¨æ¼æ´ï¼Œä½†é¡¹ç›®å¾ˆå°ï¼Œå½±å“æœ‰é™ã€‚å»ºè®®ä¿®å¤ä½†å¯èƒ½ä¸éœ€è¦ CVEã€‚**

---

## ç¬¬äºŒç»„æ€»ç»“

### ç¡®è®¤éœ€è¦ CVE æŠ¥å‘Šçš„é¡¹ç›®

1. âœ… **trajano/trajano-swarm** - Docker Swarm é…ç½®ï¼Œé«˜é£é™©

### æ¡ä»¶æ¼æ´ï¼ˆéœ€è¦è¿›ä¸€æ­¥ç¡®è®¤ï¼‰

2. âš ï¸ **cloudnativeapp/charts** - Helm Chartï¼Œå¦‚æœç”¨æˆ·é…ç½®ä¸å½“åˆ™å­˜åœ¨æ¼æ´

### å­˜åœ¨æ¼æ´ä½†å½±å“æœ‰é™ï¼ˆå»ºè®®ä¿®å¤ï¼Œä¸éœ€è¦ CVEï¼‰

3. âš ï¸ **Lepkem/traefik-plugin-response-code-override** - æ’ä»¶é…ç½®ï¼Œé¡¹ç›®è¾ƒå°
4. âš ï¸ **vnghia/automation-lyoko-docker** - ä¸ªäººé¡¹ç›®ï¼Œ1 star

### ä¸éœ€è¦ CVE

5. âŒ **traefik/traefik** - å®˜æ–¹æµ‹è¯•æ–‡ä»¶

---

## ç´¯è®¡ç»Ÿè®¡

### ç¬¬ä¸€ç»„ + ç¬¬äºŒç»„

- **éœ€è¦ CVE**: 3 ä¸ªï¼ˆhmcts, SitecorePowerShell, trajano-swarmï¼‰
- **æ¡ä»¶æ¼æ´**: 1 ä¸ªï¼ˆchartsï¼‰
- **å»ºè®®ä¿®å¤**: 4 ä¸ª
- **ä¸éœ€è¦ CVE**: 2 ä¸ªï¼ˆæµ‹è¯•æ–‡ä»¶ï¼ŒAzure-Samples ä¸æ˜¯ Traefik é…ç½®ï¼‰

